@startuml process_detailed
!theme plain
skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 12

' –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
skinparam actor {
    BackgroundColor #000000
    BorderColor #333333
    FontColor white
}

skinparam participant {
    BackgroundColor #000000
    BorderColor #333333
    FontColor white
}

skinparam note {
    BackgroundColor #FFFFFF
    BorderColor #333333
    FontColor #000000
}

title **PlantUML Docker Renderer** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞

actor "üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å" as User
participant "üê≥ Docker\nContainer" as Container
participant "üîç File\nScanner" as Scanner
participant "üé® PlantUML\nEngine" as Engine
participant "üíæ File\nSystem" as FileSystem

== üéØ **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** ==
User -> Container: üöÄ –ó–∞–ø—É—Å–∫ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞\n<color:blue>docker run --rm -v $(pwd):/workspace</color>
activate Container

Container -> Scanner: ÔøΩÔøΩ –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
activate Scanner
Scanner -> FileSystem: ÔøΩÔøΩ –ü–æ–∏—Å–∫ .puml —Ñ–∞–π–ª–æ–≤
FileSystem --> Scanner: üìã –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
Scanner --> Container: ‚úÖ –ù–∞–π–¥–µ–Ω–æ N —Ñ–∞–π–ª–æ–≤
deactivate Scanner

== ÔøΩÔøΩ **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤** ==
loop üîÑ –î–ª—è –∫–∞–∂–¥–æ–≥–æ .puml —Ñ–∞–π–ª–∞
    Container -> Engine: ÔøΩÔøΩ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤ SVG/PNG
    activate Engine
    
    alt ‚úÖ –£—Å–ø–µ—à–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
        Engine -> FileSystem: üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
        FileSystem --> Engine: ‚úÖ –§–∞–π–ª —Å–æ–∑–¥–∞–Ω
        Engine --> Container: üéâ [OK] sample.svg
    else ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
        Engine --> Container: ÔøΩÔøΩ [ERROR] –û—à–∏–±–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
    end
    
    deactivate Engine
end

== ÔøΩÔøΩ **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ** ==
Container --> User: ÔøΩÔøΩ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à—ë–Ω!\nüìä –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: N —Ñ–∞–π–ª–æ–≤
deactivate Container

note right of Container
  <b>ÔøΩÔøΩ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</b>
  ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SVG –∏ PNG
  ‚Ä¢ –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤
  ‚Ä¢ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  ‚Ä¢ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  ‚Ä¢ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è —Ç–æ—á–∫–∞ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
end note

note right of User
  <b>ÔøΩÔøΩ –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã:</b>
  <code>docker run --rm -v $(pwd):/workspace \\
  ghcr.io/vlmhyperbenchteam/plantuml-renderer:latest \\
  /workspace/docs/diagrams svg</code>
end note

@enduml
